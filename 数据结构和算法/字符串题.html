<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Document</title>
</head>

<body>
  <script>
    // 千位分割  金钱转化 1234 -> 1,234
    function formatNum(str) {
      str = String(str);
      let newStr = "";
      let count = 0;
      if (str.indexOf(".") != -1) {
        let strArr = str.split(".");
        for (let i = strArr[0].length - 1; i >= 0; i--) {
          if (count % 3 == 0 && count != 0) {
            newStr = strArr[0].charAt(i) + "," + newStr;
          } else {
            newStr = strArr[0].charAt(i) + newStr;
          }
          count++;
        }
        newStr = newStr + "." + strArr[1];
      } else {
        for (let i = str.length - 1; i >= 0; i--) {
          if (count % 3 == 0 && count != 0) {
            newStr = str.charAt(i) + "," + newStr;
          } else {
            newStr = str.charAt(i) + newStr;
          }
          count++;
        }
      }
      // console.log('newStr',newStr)
      return newStr;
    }
    // 翻转字符串里的单词
    var str = " a good   example ";
    function reverseStr(str) {
      console.log(typeof str);
      if (typeof str == "string") {
        var arr = str.split(" ");
        var newArr = arr.filter((item) => item != "");
        //    console.log('arr',arr,newArr)
        return newArr.reverse().join(" ");
      }
    }
    //  console.log(reverseStr(str))
    //   https://github.com/sisterAn/JavaScript-Algorithms/issues/18   双端队列的解法
    var reverseWords = function (s) {
      let left = 0;
      let right = s.length - 1;
      let queue = [];
      let word = "";
      while (s.charAt(left) === " ") {
        // 去除左边空格
        // console.log(11111)
        left++;
      }
      while (s.charAt(right) === " ") {
        // 去除右边空格
        // console.log(2222)
        right--;
      }
      while (left <= right) {
        // console.log(left)
        let char = s.charAt(left);
        if (char === " " && word) {
          // 遇到空格之后就把前面的单词添加的数组最前面
          queue.unshift(word);
          word = "";
        } else if (char !== " ") {
          word += char;
        }
        left++;
      }
      // console.log(33333,word)
      queue.unshift(word); // 最后一个单词
      return queue.join(" ");
    };
    // reverseWords(str)

    // https://github.com/sisterAn/JavaScript-Algorithms/issues/49    hash相关
    // 设计一个支持在平均 时间复杂度 O(1) 下，执行以下操作的数据结构。
    // insert(val) ：当元素 val 不存在时，向集合中插入该项。
    // remove(val) ：元素 val 存在时，从集合中移除该项。
    // getRandom ：随机返回现有集合中的一项。每个元素应该有 相同的概率 被返回。
    class RandomizedSet {
      constructor() {
        this.values = [];
        this.map = new Map();
      }
      insert(val) {
        if (this.map.has(val)) {
          return false;
        } else {
          // console.log(this.values.length)
          this.map.set(val, this.values.length);
          this.values.push(val);
          //    console.log(this.values.length)
          //    console.log(this.map)
          return true;
        }
      }
      remove(val) {
        if (!this.map.has(val)) {
          return false;
        } else {
          let index = this.map.get(val); // 找到要删除元素的下标
          if (index == this.values.length) {
            // 如果删除的元素就是末尾
            this.values.pop();
            this.map.delete(val);
          } else {
            let lastValue = this.values.pop(); //获取数组的最后的一位的元素
            this.values[index] = lastValue; //用末尾元素代替要删除的元素
            this.map.set(lastValue, index); //建立新的映射关系
            this.map.delete(val);
          }

          //    this.values.splice(index,1);
          //    this.map.delete(val)
          //    console.log(this.values)
          return true;
        }
      }
      getRandom() {
        if (this.values.length == 1) {
          return this.values[0];
        } else {
          return this.values[Math.floor(Math.random() * this.values.length)];
        }
      }
    }
    // 初始化一个空的集合。
    // let randomSet = new RandomizedSet();
    // // 向集合中插入 1 。返回 true 表示 1 被成功地插入。
    // console.log(randomSet.insert(1));
    // // 返回 false ，表示集合中不存在 2 。
    // console.log(randomSet.remove(2));
    // // 向集合中插入 2 。返回 true 。集合现在包含 [1,2] 。
    // console.log(randomSet.insert(2));
    // // getRandom 应随机返回 1 或 2 。
    // console.log(randomSet.getRandom()) ;
    // // 从集合中移除 1 ，返回 true 。集合现在包含 [2] 。
    // console.log(randomSet.remove(1)) ;
    // // 2 已在集合中，所以返回 false 。
    // console.log(randomSet.insert(2)) ;
    // // 由于 2 是集合中唯一的数字，getRandom 总是返回 2 。
    // console.log(randomSet.getRandom()) ;
    
    var s1 = "get-element-by-id"
    // 转化为 getElementById
    var f = function (s) {
      return s.replace(/-\w/g, function (x) {
        return x.slice(1).toUpperCase();
      })
    }

  </script>
</body>

</html>